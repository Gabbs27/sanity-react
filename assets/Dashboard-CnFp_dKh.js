import{r as w,p as V,q as f,j as e,a as C,o as i,F as r,s as k,t as D,v as S,w as L,x as A,y as R,z as P,l as T}from"./index-DywZaZ91.js";import{u as E,M as l,C as d}from"./useAnalyticsData-BXguAF9a.js";import{u as U}from"./useAnalytics-KLvvUaYE.js";import{S as $}from"./SEO-CDX3f46h.js";const K=()=>{U();const[t,n]=w.useState("30days"),{adminToken:x,logout:m}=V(),j=f(),{data:o,loading:p,error:h}=E(t,x,!1);if(p)return e.jsx(C,{message:"Loading analytics..."});if(h)return e.jsxs("div",{className:"dashboard-error",children:[e.jsx("h2",{children:"Error loading analytics"}),e.jsx("p",{children:h})]});if(!o)return null;const{overview:s,pageViews:u,topPages:g,topCountries:y,devices:b,browsers:v,realtimeUsers:N}=o;return e.jsxs(e.Fragment,{children:[e.jsx($,{title:"Analytics Dashboard",description:"View analytics and insights for Gabriel Abreu's portfolio website",url:"https://codewithgabo.com/#/dashboard"}),e.jsx("div",{className:"dashboard",children:e.jsxs("div",{className:"dashboard-container",children:[e.jsxs(i.div,{className:"dashboard-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"dashboard-title-section",children:[e.jsx("h1",{className:"dashboard-title",children:"Analytics Dashboard"}),e.jsx("p",{className:"dashboard-subtitle",children:"Real-time data from Google Analytics 4"})]}),e.jsxs(i.button,{className:"logout-button",onClick:()=>{m(),j("/")},whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Logout",children:[e.jsx(r,{icon:k}),e.jsx("span",{children:"Logout"})]}),e.jsxs("div",{className:"realtime-indicator",children:[e.jsx(r,{icon:D,className:"realtime-dot"}),e.jsxs("span",{className:"realtime-text",children:[N," users online"]})]}),e.jsxs("div",{className:"date-range-selector",children:[e.jsx("button",{className:`date-btn ${t==="7days"?"active":""}`,onClick:()=>n("7days"),children:"7 Days"}),e.jsx("button",{className:`date-btn ${t==="30days"?"active":""}`,onClick:()=>n("30days"),children:"30 Days"}),e.jsx("button",{className:`date-btn ${t==="90days"?"active":""}`,onClick:()=>n("90days"),children:"90 Days"})]})]}),e.jsxs("div",{className:"metrics-grid",children:[e.jsx(l,{title:"Total Visits",value:s.totalVisits.toLocaleString(),icon:S,trend:"up",trendValue:"+12.5%",color:"primary"}),e.jsx(l,{title:"Unique Visitors",value:s.uniqueVisitors.toLocaleString(),icon:L,trend:"up",trendValue:"+8.3%",color:"secondary"}),e.jsx(l,{title:"Page Views",value:s.pageViews.toLocaleString(),icon:A,trend:"up",trendValue:"+15.2%",color:"accent"}),e.jsx(l,{title:"Avg. Session",value:s.avgSessionDuration,icon:R,trend:"down",trendValue:"-2.1%",color:"warning"})]}),e.jsx("div",{className:"charts-grid",children:e.jsx(d,{title:"Visitors Over Time",type:"area",data:u,dataKeys:[{key:"views",name:"Page Views",color:"primary"},{key:"visitors",name:"Visitors",color:"secondary"}],height:300})}),e.jsxs("div",{className:"charts-grid-2col",children:[e.jsx(d,{title:"Top Pages",type:"bar",data:g,dataKeys:[{key:"page",name:"Page"},{key:"views",name:"Views",color:"primary"}],height:300}),e.jsx(d,{title:"Device Distribution",type:"pie",data:b,dataKeys:[{key:"users",name:"Users"}],height:300})]}),e.jsxs("div",{className:"tables-grid",children:[e.jsxs(i.div,{className:"data-table-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:[e.jsxs("div",{className:"table-header",children:[e.jsx(r,{icon:P,className:"table-icon"}),e.jsx("h3",{children:"Top Countries"})]}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Country"}),e.jsx("th",{children:"Visitors"}),e.jsx("th",{children:"Percentage"})]})}),e.jsx("tbody",{children:y.map((a,c)=>e.jsxs("tr",{children:[e.jsx("td",{children:a.country}),e.jsx("td",{children:a.visitors.toLocaleString()}),e.jsx("td",{children:e.jsxs("div",{className:"percentage-bar-container",children:[e.jsx("div",{className:"percentage-bar",style:{width:`${a.percentage}%`}}),e.jsxs("span",{className:"percentage-text",children:[a.percentage,"%"]})]})})]},c))})]})]}),e.jsxs(i.div,{className:"data-table-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:[e.jsxs("div",{className:"table-header",children:[e.jsx(r,{icon:T,className:"table-icon"}),e.jsx("h3",{children:"Top Browsers"})]}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Browser"}),e.jsx("th",{children:"Users"}),e.jsx("th",{children:"Percentage"})]})}),e.jsx("tbody",{children:v.map((a,c)=>e.jsxs("tr",{children:[e.jsx("td",{children:a.browser}),e.jsx("td",{children:a.users.toLocaleString()}),e.jsx("td",{children:e.jsxs("div",{className:"percentage-bar-container",children:[e.jsx("div",{className:"percentage-bar",style:{width:`${a.percentage}%`}}),e.jsxs("span",{className:"percentage-text",children:[a.percentage,"%"]})]})})]},c))})]})]})]}),e.jsxs(i.div,{className:"additional-metrics",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},children:[e.jsxs("div",{className:"metric-pill",children:[e.jsx("span",{className:"pill-label",children:"Bounce Rate:"}),e.jsx("span",{className:"pill-value",children:s.bounceRate})]}),e.jsxs("div",{className:"metric-pill",children:[e.jsx("span",{className:"pill-label",children:"New Visitors:"}),e.jsxs("span",{className:"pill-value",children:[s.newVsReturning.new,"%"]})]}),e.jsxs("div",{className:"metric-pill",children:[e.jsx("span",{className:"pill-label",children:"Returning Visitors:"}),e.jsxs("span",{className:"pill-value",children:[s.newVsReturning.returning,"%"]})]})]})]})})]})};export{K as default};
