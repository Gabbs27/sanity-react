import{r as t,p as g,q as j,j as e,o,F as l,E as f,G as v,H as b,x as k}from"./index-Dq9QwzCv.js";import{S as N}from"./SEO-C5SNYjN_.js";const A=()=>{const[a,h]=t.useState(""),[s,p]=t.useState(!1),[d,i]=t.useState(""),[n,r]=t.useState(!1),{login:u}=g(),x=j(),y=async c=>{if(c.preventDefault(),i(""),r(!0),!a.trim()){i("Please enter an access token"),r(!1);return}try{(await fetch("https://sanity-react-production.up.railway.app/api/analytics?dateRange=7days",{headers:{Authorization:`Bearer ${a.trim()}`}})).ok?(u(a.trim()),x("/dashboard")):i("Invalid access token. Please try again.")}catch(m){console.error("Login error:",m),i("Failed to connect to analytics server. Please try again later.")}finally{r(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(N,{title:"Admin Login",description:"Admin login page for dashboard access"}),e.jsxs("div",{className:"admin-login",children:[e.jsxs(o.div,{className:"login-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"login-header",children:[e.jsx(l,{icon:f,className:"lock-icon"}),e.jsx("h1",{children:"Admin Access"}),e.jsx("p",{children:"Enter your access token to view the dashboard"})]}),e.jsxs("form",{onSubmit:y,className:"login-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"token",children:[e.jsx(l,{icon:v})," Access Token"]}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("input",{id:"token",type:s?"text":"password",value:a,onChange:c=>h(c.target.value),placeholder:"Enter your admin token",className:"token-input",autoComplete:"off",disabled:n}),e.jsx("button",{type:"button",className:"toggle-visibility",onClick:()=>p(!s),"aria-label":s?"Hide token":"Show token",children:e.jsx(l,{icon:s?b:k})})]})]}),d&&e.jsx(o.div,{className:"error-message",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:d}),e.jsx(o.button,{type:"submit",className:"login-button",disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},children:n?"Verifying...":"Access Dashboard"})]}),e.jsx("div",{className:"login-footer",children:e.jsxs("p",{className:"info-text",children:["ðŸ’¡ ",e.jsx("strong",{children:"Don't have access?"})," Check out the"," ",e.jsx("a",{href:"/#/dashboard-demo",children:"public demo dashboard"})," instead."]})})]}),e.jsxs(o.div,{className:"login-bg-decoration",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[e.jsx("div",{className:"circle circle-1"}),e.jsx("div",{className:"circle circle-2"}),e.jsx("div",{className:"circle circle-3"})]})]})]})};export{A as default};
